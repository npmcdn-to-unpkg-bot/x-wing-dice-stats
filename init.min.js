"use strict";function getRandomInt(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function getRandomBoolean(){return Math.random()<.5}function recalculate(){const e=Number.parseInt(document.getElementById("num-attacks").value,10)||0,t=Number.parseInt(document.getElementById("num-defense").value,10)||0,n={focus:$("#attack-focus").prop("checked"),targetLock:$("#attack-target-lock").prop("checked")},a={focus:$("#defense-focus").prop("checked"),evade:$("#defense-evade").prop("checked")},c=rollDice(e,t,n,a,numRuns);for(var s=window.chart.data.datasets[0].data,l=window.chart.data.labels,o=0;o<Math.min(s.length,c.length);o++)s[o]=c[o];s.length>c.length&&(s.splice(c.length),l.splice(c.length));for(var o=s.length;o<c.length;o++)s.push(c[o]),l.push(String(o));window.chart.update()}function swapThemes(){"empire"===currentTheme?($(".empire").toggleClass("rebel"),$(".empire").toggleClass("empire"),currentTheme="rebel"):"rebel"===currentTheme&&($(".rebel").toggleClass("empire"),$(".rebel").toggleClass("rebel"),currentTheme="empire"),$("#flippy-card").toggleClass("flipped")}const ctx=$("#chart"),numRuns=1e4,initRed=getRandomInt(1,5),initGreen=getRandomInt(1,5),initAttackOptions={focus:getRandomBoolean()},initDefenseOptions={focus:getRandomBoolean(),evade:getRandomBoolean()};$("#num-attacks").val(initRed),$("#num-defense").val(initGreen),$("#attack-focus").prop("checked",initAttackOptions.focus),$("#defense-focus").prop("checked",initDefenseOptions.focus),$("#defense-evade").prop("checked",initDefenseOptions.evade);var results=rollDice(initRed,initGreen,initAttackOptions,initDefenseOptions,numRuns),labels=R.times(R.identity,initRed+1).map(String),data={labels:labels,datasets:[{borderWidth:1,data:results}]},chart=new Chart(ctx,{type:"bar",data:data,label:"Stats",options:{scales:{yAxes:[{scaleLabel:{display:!0,labelString:"Percentage Chance"},ticks:{min:0,max:100}}],xAxes:[{scaleLabel:{display:!0,labelString:"Number of Landed Hits"}}]},legend:{display:!1}}});window.chart=chart;var currentTheme="empire";const logoBtn=document.getElementById("logo-link");logoBtn.addEventListener("click",swapThemes,!1);const calcBtn=document.getElementById("compute-btn");calcBtn.addEventListener("click",recalculate,!1);
